p8105\_fp\_ds100\_zf2212
================
Catherine
11/30/2018

``` r
library(tidyverse)
```

    ## ── Attaching packages ────────────────────────────────────────────────── tidyverse 1.2.1 ──

    ## ✔ ggplot2 3.0.0     ✔ purrr   0.2.5
    ## ✔ tibble  1.4.2     ✔ dplyr   0.7.6
    ## ✔ tidyr   0.8.1     ✔ stringr 1.3.1
    ## ✔ readr   1.1.1     ✔ forcats 0.3.0

    ## ── Conflicts ───────────────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()

``` r
nchs_raw = read_csv("data/NCHS_-_Injury_Mortality__United_States.csv") %>% janitor::clean_names()
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_integer(),
    ##   Sex = col_character(),
    ##   `Age group (years)` = col_character(),
    ##   Race = col_character(),
    ##   `Injury mechanism` = col_character(),
    ##   `Injury intent` = col_character(),
    ##   Deaths = col_integer(),
    ##   Population = col_integer(),
    ##   `Age Specific Rate` = col_double(),
    ##   `Age Specific Rate Standard Error` = col_double(),
    ##   `Age Specific Rate Lower Confidence Limit` = col_double(),
    ##   `Age Specific Rate Upper Confidence Limit` = col_double(),
    ##   `Age Adjusted Rate` = col_double(),
    ##   `Age Adjusted Rate Standard Error` = col_double(),
    ##   `Age Adjusted Rate Lower Confidence Limit` = col_double(),
    ##   `Age Adjusted Rate Upper Confidence Limit` = col_double(),
    ##   Unit = col_character()
    ## )

``` r
nchs_suicide = nchs_raw %>% 
  mutate(death_rate = round((deaths/population)*100000, digits = 3)) %>% 
  select(year, race, sex, age_group_years, injury_mechanism, injury_intent, death_rate) %>%
  filter(!race == "All races",
         injury_mechanism == "All Mechanisms",
         age_group_years == "All Ages",
         sex == "Both sexes",
         injury_intent == "Suicide") %>% 
  group_by(year, injury_intent) 
```

``` r
nchs_suicide %>% ggplot(aes(x = year, y = death_rate, color = race)) +
  geom_point() +
  geom_line()
```

![](p8105_fp_ds100_zf2212_files/figure-markdown_github/plot-1.png)

Non-Hispanic White has the highest deaths rate of suicide compared to two other race groups. As this is the death rate of suicide, we need to take a look if we can find some connection to depression or other.

**Research**: Depression is involved in more than two-thirds of the 30,000 suicides that occur in the United States every year. For every two homicides, there are three suicides. "Elderly men may feel especially hopeless when their bodies break down with illness because it can destroy their sense of masculinity," says Lieberman. That may be why the highest suicide rate among Americans is in white men who are 85 or older, many of whom may have a depressive illness.

*reference*: <https://www.everydayhealth.com/hs/major-depression/depression-statistics/>

``` r
brfss_raw = read_csv("./data/brfss_data.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   year = col_integer(),
    ##   sample_size = col_integer(),
    ##   data_value = col_double(),
    ##   confidence_limit_low = col_double(),
    ##   confidence_limit_high = col_double(),
    ##   display_order = col_integer()
    ## )

    ## See spec(...) for full column specifications.

``` r
brfss = brfss_raw %>% 
  filter(response == "Yes") %>%
  filter(!is.na(`Race/Ethnicity`)) %>% 
  select(year, response, data_value, `Race/Ethnicity`, location_id) %>% 
  group_by(`Race/Ethnicity`)
brfss[is.na(brfss)] = 0

brfss %>% ggplot(aes(x = year, y = data_value, color = `Race/Ethnicity`)) + 
  geom_point() +
  geom_line() 
```

![](p8105_fp_ds100_zf2212_files/figure-markdown_github/unnamed-chunk-1-1.png)

Motivation:
===========

Suicide is a leading cause of death in the US. Suicide rates increased in nearly every state from 1999 through 2016. Mental health conditions are often seen as the cause of suicide, but suicide is rarely caused by any single factor. In fact, many people who die by suicide are not known to have a diagnosed mental health condition at the time of death. We are interested in examining the variations of suicide death rates among different categorical variables such as gender, race, age group, and to test if the observed differences are statistically significant combined with the analysis to age-specific rate and related confidence interval.

Related work:
=============

Suicide has ranked as the 10th leading cause of death among Americans for many years. <https://www.verywellmind.com/suicide-rates-overstated-in-people-with-depression-2330503>

Initial questions:
==================

The initial thought of this project is to discover the relationship between suicide and people's mental status. We have found two separated datasets, in which one is the Injury Mortality data in the US, the other contains people's depression status in the US. Since both of the two datasets contains information for age, race, and gender, we decided to compare the trend of suicide death rates with depression prevalence under these three categories.

Data:
=====

Source, scraping method, cleaning, etc.

BRFSS Prevalence Data (2011 to present)
---------------------------------------

Data from the Behavioral Risk Factor Surveillance System (BRFSS) Prevalence Data (2011 to present) were accessed from cdc.gov.(<https://chronicdata.cdc.gov/Behavioral-Risk-Factors/Behavioral-Risk-Factor-Surveillance-System-BRFSS-P/dttw-5yxu>) The version of the data that we will use in this analysis can be found in our Github (./data).

Methodology: <http://www.cdc.gov/brfss/factsheets/pdf/DBS_BRFSS_survey.pdf>

Glossary: <http://apps.nccd.cdc.gov/BRFSSQuest/index.asp>

### Data acquisition and description

As the original dataset is too large, we download the dataset and acquire the data we need. The specific data to be used in this project was accessed in December 2018 using the code below.

``` r
library(tidyverse)

data_BRFSS = 
  read_csv(file='./data/Behavioral_Risk_Factor_Surveillance_System__BRFSS__Prevalence_Data__2011_to_present_.csv')

data_BRFSS %>% 
  select(., Question) %>%
  distinct(.,)

brfss_data = brfss_raw %>% 
   filter(year %in% c(2011, 2012, 2013, 2014, 2015, 2016),
          break_out_category %in% c("Age Group", "Race/Ethnicity", "Gender")) %>% 
   spread(key = break_out_category, break_out)
```

The original dataset contains 1,386,855 rows and 27 column. For further use, we make a preliminary dataset. The preliminary dataset contains 8931 rows and 14 columns. We save the preliminary dataset in our data file. The complete data dictionary is linked above.

Further cleaning
----------------

``` r
# load the preliminary dataset
brfss_data = read.csv("./data/brfss_data.csv") 
# method 1 - select the columns we need
brfss_tidy = brfss_data %>% 
  select(year, locationabbr, locationdesc, response, sample_size, data_value, Age.Group, Gender, Race.Ethnicity, geo_location) 
# method 2 - create age dataset
brfss_age = brfss_data %>% 
  select(year, locationabbr, locationdesc, response, sample_size, data_value, Age.Group) %>% 
  filter(!is.na(Age.Group)) %>% 
  janitor::clean_names()
# create race dataset
brfss_race = brfss_data %>% 
  select(year, locationabbr, locationdesc, response, sample_size, data_value, Gender) %>% 
  filter(!is.na(Gender)) %>% 
  janitor::clean_names()
# create gender dataset
brfss_gender = brfss_data %>% 
  select(year, locationabbr, locationdesc, response, sample_size, data_value, Race.Ethnicity) %>% 
  filter(!is.na(Race.Ethnicity)) %>% 
  janitor::clean_names()
```

As we will do our followin analysis by age, race, and gender, we created three tidy subsets by age, race, and gender.
